---
products:
    new:
        limit: {{theme_settings.homepage_new_products_count}}
    featured:
        limit: {{theme_settings.homepage_featured_products_count}}
    top_sellers:
        limit: {{theme_settings.homepage_top_products_count}}
carousel: {{theme_settings.homepage_show_carousel}}
blog:
    recent_posts:
        limit: {{theme_settings.homepage_blog_posts_count}}
---
{{#partial "hero"}}
    {{{region name="home_below_menu"}}}
    
    {{!-- TPU Custom Hero Section --}}
    {{> components/tpu/hero}}
    
    {{{region name="home_below_carousel"}}}
{{/partial}}

{{#partial "page"}}
<div class="tpu-dark-theme">
    {{#each shipping_messages}}
        {{> components/common/alert/alert-info message}}
    {{/each}}

    {{!-- Brand Marquee Section --}}
    {{> components/tpu/brand-marquee}}

    {{!-- Google Reviews Social Proof Section (React component) --}}
    <div id="google-reviews-root"></div>

    {{!-- Why Kits Beat Parts Section (React with MagicUI) --}}
    <div id="why-kits-root"></div>

    {{!-- Bento Grid Categories (React with scroll animations) --}}
    <div id="animated-bento-root"></div>

    {{!-- Shop by Capacity Section (React with MagicUI) --}}
    <div id="capacity-grid-root"></div>
    {{{region name="home_below_featured_products"}}}

    {{!-- Top Sellers Section --}}
    {{#if products.top_sellers}}
    <section class="tpu-section tpu-section--secondary" data-tpu-animate="fade-in-up">
        <div class="tpu-container">
            <div class="tpu-bento-section__header">
                <h2 class="tpu-bento-section__title">Top Sellers</h2>
                <p class="tpu-bento-section__subtitle">Our most popular trailer parts</p>
            </div>
            <div class="productGrid">
                {{#each products.top_sellers}}
                    {{> components/products/card}}
                {{/each}}
            </div>
        </div>
    </section>
    {{/if}}
    {{{region name="home_below_top_products"}}}

    {{!-- New Arrivals Section --}}
    {{#if products.new}}
    <section class="tpu-section tpu-section--dark" data-tpu-animate="fade-in-up">
        <div class="tpu-container">
            <div class="tpu-bento-section__header">
                <h2 class="tpu-bento-section__title">New Arrivals</h2>
                <p class="tpu-bento-section__subtitle">Latest additions to our inventory</p>
            </div>
            <div class="productGrid">
                {{#each products.new}}
                    {{> components/products/card}}
                {{/each}}
            </div>
        </div>
    </section>
    {{/if}}
    {{{region name="home_below_new_products"}}}

</div>
{{/partial}}
{{> layout/base}}
